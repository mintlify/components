#!/bin/sh

cd packages/react

if git diff --cached --name-only | grep -qE "src/styles/(design-tokens\.ts|theme\.css)"; then
  echo "ğŸ¨ Regenerating theme.css..."
  pnpm generate:theme

  if [ $? -eq 0 ]; then
    git add src/styles/theme.css
    echo "âœ… theme.css regenerated and staged"
  else
    echo "âŒ Failed to regenerate theme.css"
    exit 1
  fi
fi

